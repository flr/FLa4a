<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • FLa4a</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FLa4a</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.9.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="http://github.com/flr/FLa4a" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    Source
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://flr-project.org/" class="external-link">FLR</a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>

    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.9" id="fla4a-19x">FLa4a 1.9.x:<a class="anchor" aria-label="anchor" href="#fla4a-19x"></a></h2>
<div class="section level3">
<h3 id="new-features-1-9">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-1-9"></a></h3>
<ul><li>plot for residuals by age</li>
<li>multisca method to run several sca</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-9">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-1-9"></a></h3>
<ul><li>sca use of covariates fixed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.8" id="fla4a-18x">FLa4a 1.8.x:<a class="anchor" aria-label="anchor" href="#fla4a-18x"></a></h2>
<div class="section level3">
<h3 id="new-features-1-8">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-1-8"></a></h3>
<ul><li>pearson and raw residuals</li>
<li>method replaceZeros for stock and index objects</li>
<li>mse sca now replaces zeros before calling fit</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-8">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-1-8"></a></h3>
<ul><li>problem dealing with iters that don’t converged fixed. Related with ‘active’.</li>
<li>sca.sa fixed to be compatible with mse 2.0</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.6.5" id="fla4a-165">FLa4a 1.6.5:<a class="anchor" aria-label="anchor" href="#fla4a-165"></a></h2>
<div class="section level3">
<h3 id="new-features-1-6-5">NEW FEATURES<a class="anchor" aria-label="anchor" href="#new-features-1-6-5"></a></h3>
<ul><li>Likelihood is now returned by component</li>
<li>sca.sa and sep.sa functions to make sca() available to the mp function in the mse package</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="fla4a-100">FLa4a 1.0.0:<a class="anchor" aria-label="anchor" href="#fla4a-100"></a></h2>
<div class="section level3">
<h3 id="new-features-1-0-0">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-1-0-0"></a></h3>
<ul><li>ma() now takes any function to compute weights</li>
<li>tests extended to check sca/a4aSCA defaults submodels</li>
<li>sca and a4aSCA have the same default submodels</li>
<li>wireframe for FLQuant</li>
<li>plot fits vs observation improved (yaxis removed)</li>
<li>new vignette for introduction</li>
<li>new vignette for growth modelling</li>
<li>new vignette for natural mortality modelling</li>
<li>new vignette for stock assessment</li>
<li>new themes for residual plots</li>
<li>default model in sca changed from if (ka &lt; 3) ka else min(max(3, floor(.5 * ka)), 6) to if (ka &lt; 3) ka else min(max(3, floor(.66 * ka)), 10), adding more degress of freedom. It has been noticed that age tends to be modelled with a reduced number of ks.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-0-0">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-0"></a></h3>
<ul><li>man pages reviewed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.800" id="fla4a-0800x">FLa4a 0.800.x:<a class="anchor" aria-label="anchor" href="#fla4a-0800x"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-800">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-800"></a></h3>
<ul><li>a4aInternal to remove files after a4a ADMB run</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.700" id="fla4a-0700x">FLa4a 0.700.x:<a class="anchor" aria-label="anchor" href="#fla4a-0700x"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-700">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-700"></a></h3>
<ul><li>a4aInternal was calling check.executable() which isn’t needed and was making a mess in parallel</li>
<li>sr geomean fixed, it was failing due to including par “b” in outcome while admb was not reporting.</li>
<li>R~ssb was using the previous year to compute SSB, now it matches the SSB with the correct yearclass.</li>
<li>Biomass age ranges for fitting biomass indices was not computed properly, was using position instead of real ages.</li>
<li>MCMC with hybrid method was not working due to mcsave wrongly set, must be 1.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.600" id="fla4a-0600x">FLa4a 0.600.x:<a class="anchor" aria-label="anchor" href="#fla4a-0600x"></a></h2>
<div class="section level3">
<h3 id="new-features-0-600">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-600"></a></h3>
<ul><li>MCMC fits, including tests</li>
<li>a4a tpl copy method</li>
<li>coda coercing</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.500" id="fla4a-0500x">FLa4a 0.500.x:<a class="anchor" aria-label="anchor" href="#fla4a-0500x"></a></h2>
<div class="section level3">
<h3 id="new-features-0-500">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-500"></a></h3>
<ul><li>plots for residuals, fitted and observed changed to a gray theme and visuals updated.</li>
<li>plot for residuals uses latticeExtra if present to plot the names of the fleets in the left side strip.</li>
<li>plot for residuals includes aggregated catch in weight.</li>
<li>fitSumm includes a flag on convergence, 0 for true and 1 for false, to be inline with optim, although 1 doesn’t mean the iters were finished just that it didn’t converge. Tests updated.</li>
<li>a4aSCA method now has the option to center only part of the fleets using a numeric vector (subsetting by position). It tries to get around the scaling issues by giving opportunity to scale only parts of the data. Scaling indices sometimes (allways ?) makes the qs less scaled with fs. Tests updated.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-500">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-500"></a></h3>
<ul><li>plot for fitted and observed includes legend to id fit and obs</li>
<li>plot for fitted and indices no longer calls x11 if more than one index, users must use multiplot device</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.300" id="fla4a-0300x">FLa4a 0.300.x:<a class="anchor" aria-label="anchor" href="#fla4a-0300x"></a></h2>
<div class="section level3">
<h3 id="new-features-0-300">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-300"></a></h3>
<ul><li>Models can have up to 500 characters instead of the default 60. The previous limitation was creating problems, for example, when fitting models for individual ages, which were longer than 60 characters.</li>
</ul></div>
<div class="section level3">
<h3 id="fla4ax-0-300">FLa4a 0.200.x:<a class="anchor" aria-label="anchor" href="#fla4ax-0-300"></a></h3>
</div>
<div class="section level3">
<h3 id="new-features-0-300-1">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-300-1"></a></h3>
<ul><li>added a generalized cross validation score to the fitSumm information</li>
<li>message about predictions turned off by default</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-300">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-300"></a></h3>
<ul><li>plot(fit, indices) legend added</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.150" id="fla4a-0150x">FLa4a 0.150.x:<a class="anchor" aria-label="anchor" href="#fla4a-0150x"></a></h2>
<div class="section level3">
<h3 id="new-features-0-150">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-150"></a></h3>
<ul><li>predict methods revised, not possible to predict stkpars of submodels</li>
<li>tests updated</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-150">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-150"></a></h3>
<ul><li>predict of age specific biomass index now returns quant=“all” and not the age range</li>
<li>default qmodel with sca was failing when index had less then 4 ages, now it sets ~1 if one age, ~age if 2 or 3 ages, ~s(age, k=??) for more then 3 ages</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.140" id="fla4a-0140x">FLa4a 0.140.x:<a class="anchor" aria-label="anchor" href="#fla4a-0140x"></a></h2>
<div class="section level3">
<h3 id="new-features-0-140">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-140"></a></h3>
<ul><li>variance covariance matrix now comes from ADMB cov binary instead of inverting the hessian ## BUG FIXES:</li>
<li>a4aInternal was accepting zero variances, now fixed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.130.0" id="fla4a-01300">FLa4a 0.130.0:<a class="anchor" aria-label="anchor" href="#fla4a-01300"></a></h2>
<div class="section level3">
<h3 id="new-features-0-130-0">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-130-0"></a></h3>
<ul><li>tests on simulate revised and extended</li>
<li>tests on WCSAM revised</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-130-0">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-130-0"></a></h3>
<ul><li>mvrnorm bugfix for empirical = T and n &lt; length(mu) fixed by an internal function “mvrEmpT” which is called by simulate.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.120.0" id="fla4a-01200">FLa4a 0.120.0:<a class="anchor" aria-label="anchor" href="#fla4a-01200"></a></h2>
<div class="section level3">
<h3 id="new-features-0-120-0">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-120-0"></a></h3>
<ul><li>simulate includes the argument “empirical” to be passed to mvrnorm</li>
<li>l2a checks t0 that generate negative ages</li>
<li>tests on l2a and predict revised and extended</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-120-0">BUG FIXES:<a class="anchor" aria-label="anchor" href="#bug-fixes-0-120-0"></a></h3>
<ul><li>bug on indexing surveytime fixed</li>
<li>bug on name matching between parameters and indices names fixed</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.110.0" id="fla4a-01100">FLa4a 0.110.0:<a class="anchor" aria-label="anchor" href="#fla4a-01100"></a></h2>
<div class="section level3">
<h3 id="new-features-0-110-0">NEW FEATURES:<a class="anchor" aria-label="anchor" href="#new-features-0-110-0"></a></h3>
<ul><li>class a4aStkParams includes a “wt” slot to carry on stock weights</li>
<li>method a4aSCA uses an age range for biomass indices that is set in the range slot of the index</li>
<li>method a4aSCA tags the index FLQuant using attr with info about the range and if it is a biomass index</li>
<li>method simulate takes into account the range of the biomass index</li>
</ul></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Colin P. Millar, Ernesto Jardim.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

